(function(r){typeof define=="function"&&define.amd?define(r):r()})(function(){"use strict";const r=document.getElementById("music-container"),h=document.getElementById("play"),L=document.getElementById("prev"),I=document.getElementById("next"),o=document.getElementById("audio"),B=document.getElementById("progress"),M=document.getElementById("progress-container"),p=document.getElementById("title"),k=document.querySelector("#currTime"),g=document.querySelector(".play-img"),E=document.querySelector(".pause-img"),a=[{name:"Luminous Dream",fileName:"Vibe 01 - Luminous Dream.mp3"},{name:"Fire inside",fileName:"Vibe 02 - Fire inside.mp3"},{name:"Have It Your Way",fileName:"Vibe 03 - Have It Your Way.mp3"},{name:"You Color Me In",fileName:"Vibe 04 - You Color Me In.mp3"}];function S(){const i="https://cdn.jsdelivr.net/gh/diligent-ground-zero/the-wave@1.7/music/";a.forEach(t=>{var c=document.createElement("link");c.href=i+t.fileName,c.as="audio",c.rel="prefetch",document.head.appendChild(c)});let n=0;const y=a[n];if(!p||!o)return;l(y),L.addEventListener("click",C),I.addEventListener("click",v),o.addEventListener("timeupdate",T),M.addEventListener("click",P),o.addEventListener("ended",v),o.addEventListener("timeupdate",N);function l(t){p.innerText=t.name,o.src=i+t.fileName}function d(){r.classList.add("play"),g.style.display="none",E.style.display="block",o.play()}function b(){r.classList.remove("play"),g.style.display="block",E.style.display="none",o.pause()}function C(){n--,n<0&&(n=a.length-1),l(a[n]),d()}function v(){n++,n>a.length-1&&(n=0),l(a[n]),d()}function T(t){const{duration:c,currentTime:s}=t.srcElement,e=s/c*100;B.style.width=`${e}%`}function P(t){const c=this.clientWidth,s=t.offsetX,e=o.duration;o.currentTime=s/c*e}function N(t){const{duration:c,currentTime:s}=t.srcElement;var e;let u=s==null?0:Math.floor(s/60);u=u<10?"0"+u:u;function w(m){if(Math.floor(m)>=60)for(var f=1;f<=60;f++)Math.floor(m)>=60*f&&Math.floor(m)<60*(f+1)&&(e=Math.floor(m)-60*f,e=e<10?"0"+e:e);else e=Math.floor(m),e=e<10?"0"+e:e}w(s),k.innerHTML=u+":"+e}h.addEventListener("click",()=>{r.classList.contains("play")?b():d()})}document.addEventListener("DOMContentLoaded",()=>{let i,n,y;const l=document.getElementById("audio");S();const d=()=>{i?i.resume():(i=new AudioContext,y=i.createMediaElementSource(l),n=i.createAnalyser(),y.connect(n),n.connect(i.destination),n.fftSize=512),document.body.removeEventListener("click",d)};document.body.addEventListener("click",d)})});
