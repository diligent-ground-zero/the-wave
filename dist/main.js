(function(s){typeof define=="function"&&define.amd?define(s):s()})(function(){"use strict";const s=document.getElementById("music-container"),h=document.getElementById("play"),L=document.getElementById("prev"),B=document.getElementById("next"),t=document.getElementById("audio"),I=document.getElementById("progress"),S=document.getElementById("progress-container"),g=document.getElementById("title"),M=document.querySelector("#currTime"),p=document.querySelector(".play-img"),E=document.querySelector(".pause-img"),a=[{name:"song 1",fileName:"captain_zero.mp3"},{name:"song 2",fileName:"remember_when.mp3"},{name:"song 3",fileName:"temple_of_the_moon.mp3"}];function k(){const i="https://cdn.jsdelivr.net/gh/diligent-ground-zero/the-wave@main/music/";let n=1;const f=a[n];if(!g||!t)return;d(f),L.addEventListener("click",P),B.addEventListener("click",v),t.addEventListener("timeupdate",_),S.addEventListener("click",b),t.addEventListener("ended",v),t.addEventListener("timeupdate",w);function d(o){g.innerText=o.name,t.src=i+o.fileName}function r(){s.classList.add("play"),p.style.display="none",E.style.display="block",t.play()}function T(){s.classList.remove("play"),p.style.display="block",E.style.display="none",t.pause()}function P(){n--,n<0&&(n=a.length-1),d(a[n]),r()}function v(){n++,n>a.length-1&&(n=0),d(a[n]),r()}function _(o){const{duration:y,currentTime:c}=o.srcElement,e=c/y*100;I.style.width=`${e}%`}function b(o){const y=this.clientWidth,c=o.offsetX,e=t.duration;t.currentTime=c/y*e}function w(o){const{duration:y,currentTime:c}=o.srcElement;var e;let l=c==null?0:Math.floor(c/60);l=l<10?"0"+l:l;function C(u){if(Math.floor(u)>=60)for(var m=1;m<=60;m++)Math.floor(u)>=60*m&&Math.floor(u)<60*(m+1)&&(e=Math.floor(u)-60*m,e=e<10?"0"+e:e);else e=Math.floor(u),e=e<10?"0"+e:e}C(c),M.innerHTML=l+":"+e}h.addEventListener("click",()=>{s.classList.contains("play")?T():r()})}var x="";document.addEventListener("DOMContentLoaded",()=>{let i,n,f;const d=document.getElementById("audio");k();const r=()=>{i?i.resume():(i=new AudioContext,f=i.createMediaElementSource(d),n=i.createAnalyser(),f.connect(n),n.connect(i.destination),n.fftSize=512),document.body.removeEventListener("click",r)};document.body.addEventListener("click",r)})});
