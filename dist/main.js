const f=document.getElementById("music-container"),S=document.getElementById("play"),b=document.getElementById("prev"),C=document.getElementById("next"),c=document.getElementById("audio"),T=document.getElementById("progress"),P=document.getElementById("progress-container"),g=document.getElementById("title"),N=document.querySelector("#currTime"),E=document.querySelector(".play-img"),v=document.querySelector(".pause-img"),a=[{name:"Luminous Dream",fileName:"Vibe 01 - Have It Your Way.mp3"},{name:"Fire Inside",fileName:"Vibe 02 - Fire inside.mp3"},{name:"Have It Your Way",fileName:"Vibe 03 - Luminous Dream.mp3"},{name:"You Color Me In",fileName:"Vibe 04 - You Color Me In.mp3"}];function w(){const o="https://cdn.jsdelivr.net/gh/diligent-ground-zero/the-wave@2.0/music/";a.forEach(t=>{var i=document.createElement("link");i.href=o+t.fileName,i.as="audio",i.rel="prefetch",document.head.appendChild(i)});let n=0;const y=a[n];if(!g||!c)return;l(y),b.addEventListener("click",L),C.addEventListener("click",p),c.addEventListener("timeupdate",I),P.addEventListener("click",B),c.addEventListener("ended",p),c.addEventListener("timeupdate",M);function l(t){g.innerText=t.name,c.src=o+t.fileName}function r(){f.classList.add("play"),E.style.display="none",v.style.display="block",c.play()}function h(){f.classList.remove("play"),E.style.display="block",v.style.display="none",c.pause()}function L(){n--,n<0&&(n=a.length-1),l(a[n]),r()}function p(){n++,n>a.length-1&&(n=0),l(a[n]),r()}function I(t){const{duration:i,currentTime:s}=t.srcElement,e=s/i*100;T.style.width=`${e}%`}function B(t){const i=this.clientWidth,s=t.offsetX,e=c.duration;c.currentTime=s/i*e}function M(t){const{duration:i,currentTime:s}=t.srcElement;var e;let d=s==null?0:Math.floor(s/60);d=d<10?"0"+d:d;function k(u){if(Math.floor(u)>=60)for(var m=1;m<=60;m++)Math.floor(u)>=60*m&&Math.floor(u)<60*(m+1)&&(e=Math.floor(u)-60*m,e=e<10?"0"+e:e);else e=Math.floor(u),e=e<10?"0"+e:e}k(s),N.innerHTML=d+":"+e}S.addEventListener("click",()=>{f.classList.contains("play")?h():r()})}document.addEventListener("DOMContentLoaded",()=>{let o,n,y;const l=document.getElementById("audio");w();const r=()=>{o?o.resume():(o=new AudioContext,y=o.createMediaElementSource(l),n=o.createAnalyser(),y.connect(n),n.connect(o.destination),n.fftSize=512),document.body.removeEventListener("click",r)};document.body.addEventListener("click",r)});
