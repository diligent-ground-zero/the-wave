(function(s){typeof define=="function"&&define.amd?define(s):s()})(function(){"use strict";const s=document.getElementById("music-container"),h=document.getElementById("play"),L=document.getElementById("prev"),B=document.getElementById("next"),o=document.getElementById("audio"),I=document.getElementById("progress"),S=document.getElementById("progress-container"),g=document.getElementById("title"),M=document.querySelector("#currTime"),p=document.querySelector(".play-img"),v=document.querySelector(".pause-img"),r=[{name:"Luminous Dream",fileName:"Vibe 01 - Luminous Dream.wav"},{name:"You Color Me In",fileName:"Vibe 02 - You Color Me In.wav"},{name:"Have It Your Way",fileName:"Vibe 03 - Have It Your Way.wav"},{name:"Best Secret",fileName:"Vibe 04 - BestSecret.wav"},{name:"The Sound of Bowmore",fileName:"Vibe 05 - The Sound of Bowmore.wav"}];function k(){const i="https://cdn.jsdelivr.net/gh/diligent-ground-zero/the-wave@main/music/";r.forEach(t=>{var c=document.createElement("link");c.href=i+t.fileName,c.as="audio",c.rel="preload",document.head.appendChild(c)});let n=1;const y=r[n];if(!g||!o)return;l(y),L.addEventListener("click",T),B.addEventListener("click",E),o.addEventListener("timeupdate",b),S.addEventListener("click",C),o.addEventListener("ended",E),o.addEventListener("timeupdate",N);function l(t){g.innerText=t.name,o.src=i+t.fileName}function d(){s.classList.add("play"),p.style.display="none",v.style.display="block",o.play()}function w(){s.classList.remove("play"),p.style.display="block",v.style.display="none",o.pause()}function T(){n--,n<0&&(n=r.length-1),l(r[n]),d()}function E(){n++,n>r.length-1&&(n=0),l(r[n]),d()}function b(t){const{duration:c,currentTime:a}=t.srcElement,e=a/c*100;I.style.width=`${e}%`}function C(t){const c=this.clientWidth,a=t.offsetX,e=o.duration;o.currentTime=a/c*e}function N(t){const{duration:c,currentTime:a}=t.srcElement;var e;let u=a==null?0:Math.floor(a/60);u=u<10?"0"+u:u;function P(m){if(Math.floor(m)>=60)for(var f=1;f<=60;f++)Math.floor(m)>=60*f&&Math.floor(m)<60*(f+1)&&(e=Math.floor(m)-60*f,e=e<10?"0"+e:e);else e=Math.floor(m),e=e<10?"0"+e:e}P(a),M.innerHTML=u+":"+e}h.addEventListener("click",()=>{s.classList.contains("play")?w():d()})}document.addEventListener("DOMContentLoaded",()=>{let i,n,y;const l=document.getElementById("audio");k();const d=()=>{i?i.resume():(i=new AudioContext,y=i.createMediaElementSource(l),n=i.createAnalyser(),y.connect(n),n.connect(i.destination),n.fftSize=512),document.body.removeEventListener("click",d)};document.body.addEventListener("click",d)})});
